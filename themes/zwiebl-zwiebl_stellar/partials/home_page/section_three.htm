==
<?php
use Cms\Classes\Theme;
  function onStart()
  {
        $imageitems     = [ ];
        $filesImage     = File::allFiles( 'storage/app/media/konten_citratus/citratus_images/' );
        foreach ($filesImage as $item) {
            $imageitems[] = $item->getFilename();
        }
        rsort($imageitems, SORT_NUMERIC); // Bigest file number first
        $this['gallery'] = $imageitems;
        //dd( $imageitems );

        $videoitems     = [ ];
        $filesVideo    = File::allFiles( 'storage/app/media/konten_citratus/citratus_videos/' );
        foreach ($filesVideo as $item) {
            $videoitems[] = $item->getFilename();
        }
        rsort($videoitems, SORT_NUMERIC); // Bigest file number first
        $this['gallery_videos'] = $videoitems;
        //dd( $videoitems );
  }
?>
==
<!-- Third Section -->
<section id="three" class="main">
    <header class="major">
        <h2>Galeri Kami</h2>
    </header>


    <div class="masonry">
      {% for item in gallery %}
        <a href="#open-image-{{item}}"><div class="item"><img src="storage/app/media/konten_citratus/citratus_images/{{item}}" /></div></a>
        <div id="open-image-{{item}}" class="modal-window">
            <div>
                <a href="#three" title="Close" class="modal-close">Tutup</a><br><br>
                <center><img src="storage/app/media/konten_citratus/citratus_images/{{item}}" style="width:'100%'; max-height:400px;" /></center>
            </div>
        </div>
      {% endfor %}
      {% for item in gallery_videos %}
        <div class="item">
          <video autobuffer controls>
            <source id="mp4" src="storage/app/media/konten_citratus/citratus_videos/{{item}}" type="video/mp4">
          </video>
        </div>
      {% endfor %}
  	</div>
</section>
